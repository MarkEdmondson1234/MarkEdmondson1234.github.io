---
title: Embedding Google Data Studio into RMarkdown
author: Mark Edmondson
date: '2018-03-15'
slug: embedding-google-data-studio-into-rmarkdown
categories: []
tags:
  - R
  - google-auth
banner: ''
description: ''
images: []
menu: ''
---

## Adding Google Data Studio Dashboards to RMarkdown

This week I leant you can embed Data Studio reports the resulting HTML code and paste it into an RMarkdown HTML document.  

This is cool as you can then combine reports and analysis using Data Studio, which is very quick to get something decent looking and can link to data source such as DoubleClick that are harder to get API access for, and have them side by side with advanced R plots such as using [`ggplot2`](http://ggplot2.org/), [htmlwidgets](http://gallery.htmlwidgets.org/) or [plot.ly](https://plot.ly/r/).


### How to do it

First create your Data Studio report, select  the ["Embed" option](https://support.google.com/datastudio/answer/7450249?hl=en) top left of Google Data Studio:

![](../images/embed.png)

Then you can paste in that code straight in an `.Rmd` document, like I did with this blog:

```
<iframe width="600" height="500" 
src="https://datastudio.google.com/embed/reporting/1q8dO3-IuGU-YXbgTiW6mchvKCg_kRZ9Y/page/wN5O" 
frameborder="0" 
style="border:0" allowfullscreen></iframe>
```

*Above I put in backticks to demo the code I pasted in, but you don't need to do that - below is result of the code pasted in as is into the .Rmd doc*

<iframe width="600" height="500" src="https://datastudio.google.com/embed/reporting/1q8dO3-IuGU-YXbgTiW6mchvKCg_kRZ9Y/page/wN5O" frameborder="0" style="border:0" allowfullscreen></iframe>

Tweak the width and height so it fits your layout - I set the height and width of the Data Studio dashboard to the same as the iframe to avoid the scroll bars appearing.

For standalone `.Rmd` documents, 800 pixel width looks best, but this blog is narrower so I went for 600 pixel width.

## Private Data Studio reports

The above report is shared publically on the web, but you can do the same with private Data Studio reports.

Follow the same procedure, but only share privately in your Sharing settings - only people who have private access to this report will see it, others will get the `This Data Studio report is private` message. 

<iframe width="600" height="500" src="https://datastudio.google.com/embed/reporting/1O6QttLeXrV7zesk0lNFeWmb5H3aPIhMa/page/wN5O" frameborder="0" style="border:0" allowfullscreen></iframe>

...but I see this:

![](../images/private-embed.png)

The authentication works in the same browser you are logged in with Google, since that is shared - e.g. if you are logged into Google Analytics in the same browser, you should see it.  This means however you won't see it work if viewing in the RStudio View panel.

If you want to make this smoother, you could also use `googleAuthR`'s JavaScript authentication function `gar_auth_jsUI` within the same document - this will ensure a user can login and view the Data Studio report from the same webpage.

e.g. *The CSS for this button is not active so its not pretty*

```{r echo=TRUE}
library(googleAuthR)
gar_set_client()
gar_auth_jsUI("auth", login_text = "Google Login")
```

